# GitHub Actions Workflow Variables Configuration

## Quick Setup Guide

### Required GitHub Repository Variables

Navigate to: **Repository → Settings → Secrets and variables → Actions → Variables**

```bash
# ========================================
# Azure Container Registry Configuration
# ========================================

ACR_NAME=myappacrname
# ↑ Your Azure Container Registry name
# Example: mycompanyacr, prodacr2025

ACR_REPOSITORY=my-organization
# ↑ Repository/organization path in ACR
# Previous hardcoded value: ltim-fosfor
# Use your team/org name: frontend-team, backend-services, engineering

APP_NAME=my-application
# ↑ Application/service name (NOT full image path!)
# Previous variable name: IMAGE_NAME (renamed to avoid confusion)
# Previous hardcoded value: gha-azcapp
# Use your app name: web-api, portal, payment-service

# ========================================
# Result Image Path
# ========================================
# Full path will be: {ACR_NAME}.azurecr.io/{ACR_REPOSITORY}/{APP_NAME}
# Example: mycompanyacr.azurecr.io/engineering/web-api:abc123

# ========================================
# Azure Infrastructure
# ========================================

AZURE_RESOURCE_GROUP=my-resource-group
CONTAINER_APP_ENVIRONMENT=my-containerapp-env
CONTAINER_APP_NAME=my-app

# ========================================
# Security & Monitoring
# ========================================

TRIVY_SEVERITY_THRESHOLD=CRITICAL,HIGH,MEDIUM
HEALTH_CHECK=health
HEALTH_CHECK_EXPECTED_STATUS=200
LOG_LEVEL=INFO

# ========================================
# Example Configurations for Different Teams
# ========================================

# Frontend Team:
# ACR_REPOSITORY=frontend-team
# IMAGE_NAME=web-portal
# → mycompanyacr.azurecr.io/frontend-team/web-portal

# Backend Team:
# ACR_REPOSITORY=backend-team
# IMAGE_NAME=api-gateway
# → mycompanyacr.azurecr.io/backend-team/api-gateway

# Data Team:
# ACR_REPOSITORY=data-engineering
# IMAGE_NAME=etl-pipeline
# → mycompanyacr.azurecr.io/data-engineering/etl-pipeline
```

## Required GitHub Secrets

Navigate to: **Repository → Settings → Secrets and variables → Actions → Secrets**

```bash
# Azure Authentication
AZURE_CLIENT_ID=<your-service-principal-client-id>
AZURE_TENANT_ID=<your-tenant-id>
AZURE_SUBSCRIPTION_ID=<your-subscription-id>
AZURE_RESOURCE_GROUP=<your-resource-group>
REG_ID=<your-registry-identity-resource-id>

# All other secrets will be automatically injected into Container App
```

## Configuration Steps

### 1. Clone this template
### 2. Update ACR_REPOSITORY and IMAGE_NAME for your account
### 3. Configure other variables as needed
### 4. Add secrets to GitHub
### 5. Trigger workflow

---

**Note:** Only ACR_REPOSITORY and IMAGE_NAME need to be changed when migrating to a new Azure account or team!
